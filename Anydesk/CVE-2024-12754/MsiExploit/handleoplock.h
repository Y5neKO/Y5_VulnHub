#pragma once
#include "stdafx.h"
#include <Windows.h>
#include <iostream>
#include "main.h"

extern LPWSTR wTargetFile;
extern LPWSTR wDirFakeWalpName;
extern LPWSTR wFakeWallpaperName;
extern LPWSTR wFakeWallpaperNameWithDir;
extern LPWSTR wFakeWallpaperInTempPath;
extern LPWSTR wFakeWallpaperPath;
extern HANDLE hFakeWallpaperInTemp;
extern HANDLE hFakeWallpaper;
extern LPWSTR wcDosDeviceSymLinkPath;

void HandleOplock();
LPWSTR GetDirectoryPath(LPCWSTR fullPath);
BOOL DeleteJunction(LPCWSTR path);
BOOL DelDosDeviceSymLink(LPCWSTR object, LPCWSTR target);